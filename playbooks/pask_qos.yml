---
- name: Qos Test
  hosts: all
  connection: local
  collections:
  - piolink.pask

  tasks:
  - name: Set Qos
    pask_qos:
      prest_ip: "{{ansible_ssh_host}}"
      prest_port: "{{ansible_ssh_port}}"
      user_id: "{{user_id}}"
      user_pw: "{{user_pw}}"
      class_map:
        - name: "test"
          match:
            any_traffic: "enable"
            dest_ip: "1.1.1.1/24"
            dest_mac: "A1:B2:C3:D4:E5:F6"
            dest_port: "1005"
            source_ip: "1.1.1.1/24"
            source_mac: "01:23:45:67:89:AB"
            source_port: "1605"
            protocol: "6"
            dscp: "35"
            ether_type: "0800"
            port:
              - "ge1"
            input_trunk_id: "3"
            output_trunk_id: "2"
            vlan: "1004"
      policy_map:
        - name: "test1"
          class_map:
            - name: "test"
              precedence: "5"
              drop_precedence: "enable"
              priority_to_tos: "enable"
              tos_to_priority: "enable"
              rate_limit:
                - rate: "13000"
                  burst: "12000"
      service_policy_map:
        - name: "test1"
      service_queue:
        - port: "ge1"
          output_schedule_mode: "wrr"
          output_rate_limit:
            - rate: "1000"
              burst: "1000"
          input_cos_map:
            - priority: "3"
              index: "2"
          output_queue:
            - index:  "0"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "1"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "2"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "3"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "4"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "5"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "6"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "7"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
        - port: "ge2"
          output_schedule_mode: "wrr"
          output_rate_limit:
            - rate: "1000"
              burst: "1000"
          input_cos_map:
            - priority: "3"
              index: "2"
          output_queue:
            - index:  "0"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "1"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "2"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "3"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "4"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "5"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "6"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "7"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
        - port: "ge3"
          output_schedule_mode: "wrr"
          output_rate_limit:
            - rate: "1000"
              burst: "1000"
          input_cos_map:
            - priority: "3"
              index: "2"
          output_queue:
            - index:  "0"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "1"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "2"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "3"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "4"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "5"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "6"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "7"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
        - port: "ge4"
          output_schedule_mode: "wrr"
          output_rate_limit:
            - rate: "1000"
              burst: "1000"
          input_cos_map:
            - priority: "3"
              index: "2"
          output_queue:
            - index:  "0"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "1"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "2"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "3"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "4"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "5"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "6"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "7"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
        - port: "ge5"
          output_schedule_mode: "wrr"
          output_rate_limit:
            - rate: "1000"
              burst: "1000"
          input_cos_map:
            - priority: "3"
              index: "2"
          output_queue:
            - index:  "0"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "1"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "2"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "3"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "4"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "5"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "6"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "7"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
        - port: "ge6"
          output_schedule_mode: "wrr"
          output_rate_limit:
            - rate: "1000"
              burst: "1000"
          input_cos_map:
            - priority: "3"
              index: "2"
          output_queue:
            - index:  "0"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "1"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "2"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "3"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "4"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "5"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "6"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "7"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
        - port: "ge7"
          output_schedule_mode: "wrr"
          output_rate_limit:
            - rate: "1000"
              burst: "1000"
          input_cos_map:
            - priority: "3"
              index: "2"
          output_queue:
            - index:  "0"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "1"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "2"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "3"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "4"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "5"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "6"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "7"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
        - port: "ge8"
          output_schedule_mode: "wrr"
          output_rate_limit:
            - rate: "1000"
              burst: "1000"
          input_cos_map:
            - priority: "3"
              index: "2"
          output_queue:
            - index:  "0"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "1"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "2"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "3"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "4"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "5"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "6"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "7"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
        - port: "xg1"
          output_schedule_mode: "wrr"
          output_rate_limit:
            - rate: "1000"
              burst: "1000"
          input_cos_map:
            - priority: "3"
              index: "2"
          output_queue:
            - index:  "0"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "1"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "2"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "3"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "4"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "5"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "6"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "7"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
        - port: "xg2"
          output_schedule_mode: "wrr"
          output_rate_limit:
            - rate: "1000"
              burst: "1000"
          input_cos_map:
            - priority: "3"
              index: "2"
          output_queue:
            - index:  "0"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "1"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "2"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "3"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "4"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "5"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "6"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "7"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
        - port: "xg3"
          output_schedule_mode: "wrr"
          output_rate_limit:
            - rate: "1000"
              burst: "1000"
          input_cos_map:
            - priority: "3"
              index: "2"
          output_queue:
            - index:  "0"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "1"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "2"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "3"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "4"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "5"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "6"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "7"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
        - port: "xg4"
          output_schedule_mode: "wrr"
          output_rate_limit:
            - rate: "1000"
              burst: "1000"
          input_cos_map:
            - priority: "3"
              index: "2"
          output_queue:
            - index:  "0"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "1"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "2"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "3"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "4"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "5"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "6"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "7"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
        - port: "xg5"
          output_schedule_mode: "wrr"
          output_rate_limit:
            - rate: "1000"
              burst: "1000"
          input_cos_map:
            - priority: "3"
              index: "2"
          output_queue:
            - index:  "0"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "1"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "2"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "3"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "4"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "5"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "6"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "7"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
        - port: "xg6"
          output_schedule_mode: "wrr"
          output_rate_limit:
            - rate: "1000"
              burst: "1000"
          input_cos_map:
            - priority: "3"
              index: "2"
          output_queue:
            - index:  "0"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "1"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "2"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "3"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "4"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "5"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "6"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "7"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
        - port: "xg7"
          output_schedule_mode: "wrr"
          output_rate_limit:
            - rate: "1000"
              burst: "1000"
          input_cos_map:
            - priority: "3"
              index: "2"
          output_queue:
            - index:  "0"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "1"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "2"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "3"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "4"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "5"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "6"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "7"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
        - port: "xg8"
          output_schedule_mode: "wrr"
          output_rate_limit:
            - rate: "1000"
              burst: "1000"
          input_cos_map:
            - priority: "3"
              index: "2"
          output_queue:
            - index:  "0"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "1"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "2"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "3"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "4"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "5"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "6"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "7"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
        - port: "xg9"
          output_schedule_mode: "wrr"
          output_rate_limit:
            - rate: "1000"
              burst: "1000"
          input_cos_map:
            - priority: "3"
              index: "2"
          output_queue:
            - index:  "0"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "1"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "2"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "3"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "4"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "5"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "6"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "7"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
        - port: "xg10"
          output_schedule_mode: "wrr"
          output_rate_limit:
            - rate: "1000"
              burst: "1000"
          input_cos_map:
            - priority: "3"
              index: "2"
          output_queue:
            - index:  "0"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "1"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "2"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "3"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "4"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "5"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "6"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "7"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
        - port: "xg11"
          output_schedule_mode: "wrr"
          output_rate_limit:
            - rate: "1000"
              burst: "1000"
          input_cos_map:
            - priority: "3"
              index: "2"
          output_queue:
            - index:  "0"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "1"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "2"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "3"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "4"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "5"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "6"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "7"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
        - port: "xg12"
          output_schedule_mode: "wrr"
          output_rate_limit:
            - rate: "1000"
              burst: "1000"
          input_cos_map:
            - priority: "3"
              index: "2"
          output_queue:
            - index:  "0"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "1"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "2"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "3"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "4"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "5"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "6"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "7"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
        - port: "xg13"
          output_schedule_mode: "wrr"
          output_rate_limit:
            - rate: "1000"
              burst: "1000"
          input_cos_map:
            - priority: "3"
              index: "2"
          output_queue:
            - index:  "0"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "1"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "2"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "3"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "4"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "5"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "6"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "7"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
        - port: "xg14"
          output_schedule_mode: "wrr"
          output_rate_limit:
            - rate: "1000"
              burst: "1000"
          input_cos_map:
            - priority: "3"
              index: "2"
          output_queue:
            - index:  "0"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "1"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "2"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "3"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "4"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "5"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "6"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "7"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
        - port: "xg15"
          output_schedule_mode: "wrr"
          output_rate_limit:
            - rate: "1000"
              burst: "1000"
          input_cos_map:
            - priority: "3"
              index: "2"
          output_queue:
            - index:  "0"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "1"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "2"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "3"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "4"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "5"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "6"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "7"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
        - port: "xg16"
          output_schedule_mode: "wrr"
          output_rate_limit:
            - rate: "1000"
              burst: "1000"
          input_cos_map:
            - priority: "3"
              index: "2"
          output_queue:
            - index:  "0"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "1"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "2"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "3"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "4"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "5"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "6"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"
            - index:  "7"
              min_rate: "1000"
              max_rate: "3000"
              weight: "1"

  - name: Reset Qos Service Policy Map
    pask_qos:
      prest_ip: "{{ansible_ssh_host}}"
      prest_port: "{{ansible_ssh_port}}"
      user_id: "{{user_id}}"
      user_pw: "{{user_pw}}"
      service_policy_map:
        - name: "test1"
      state: "absent"

  - name: Reset Qos Policy Map
    pask_qos:
      prest_ip: "{{ansible_ssh_host}}"
      prest_port: "{{ansible_ssh_port}}"
      user_id: "{{user_id}}"
      user_pw: "{{user_pw}}"
      policy_map:
        - name: "test1"
      state: "absent"

  - name: Reset Qos Class Map
    pask_qos:
      prest_ip: "{{ansible_ssh_host}}"
      prest_port: "{{ansible_ssh_port}}"
      user_id: "{{user_id}}"
      user_pw: "{{user_pw}}"
      class_map:
        - name: "test"
      state: "absent"